<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dashboard JurnalSearch</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" style="background-color: #d1b25c">
        <div class="container-fluid">
            <a class="navbar-brand">JurnalSearch</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <form class="d-flex ms-auto" role="search" id="searchForm" method="GET">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" name="query" id="searchInput" value="">
                    <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
            </div>
        </div>
    </nav>

    <section>
        <div class="hero" style="margin-bottom: 50px;">
            <img src="/media/Perpustakaan.jpg" alt="latar" width="100%" height="300vh">
        </div>
    </section>

    <section>
        <div class="container text-center mt-3">
            <div class="row align-items-start" id="bookCards">
                <!-- Kartu buku akan di-generate oleh JavaScript -->
		<div class="col-lg-6">
                        <div class="card mb-3" style="max-width: 540px; width: 100%;">
                            <div class="row g-0">
                                <div class="col-lg-12">
                                    <div class="card-body text-start">
                                        <h6 class="card-title">Judul Jurnal : Rancang Bangun Website Jurnal Ilmiah Bidang Komputer (Studi Kasus : Program Studi Ilmu Komputer Universitas Mulawarman)</h6>
                                        <p>Nama Penulis : Dana Pranata, Hamdani Hamdani, Dyna Marisa Khairina</p>
                                        <p>Tahun Terbit : 2015</p>
                                        <p>Volume : 10</p>
                                        <p>Nomor : 2</p>
                                    </div>
                                </div>
                            </div>
                        </div>
        </div>
        <div class="col-lg-6">
            <div class="card mb-3" style="max-width: 540px; width: 100%;">
                <div class="row g-0">
                    <div class="col-lg-12">
                        <div class="card-body text-start">
                            <h6 class="card-title">Judul Jurnal : PERANCANGAN DAN PEMBUATAN APLIKASI MANAJEMEN PUBLIKASI ILMIAH BERBASIS ONLINE PADA JURNAL SISFO</h6>
                            <p>Nama Penulis : Yosua Simaremare, Apol Pribadi, Radityo Prasetianto Wibowo</p>
                            <p>Tahun Terbit : 2013</p>
                            <p>Volume : 2</p>
                            <p>Nomor : 3</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="card mb-3" style="max-width: 540px; width: 100%;">
                <div class="row g-0">
                    <div class="col-lg-12">
                        <div class="card-body text-start">
                            <h6 class="card-title">Judul Jurnal : AKSES DAN PEMANFAATAN PANGKALAN DATA JURNAL ILMIAH</h6>
                            <p>Nama Penulis : Eka Kusmayadi</p>
                            <p>Tahun Terbit : 2008</p>
                            <p>Volume : 17</p>
                            <p>Nomor : 1</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="card mb-3" style="max-width: 540px; width: 100%;">
                <div class="row g-0">
                    <div class="col-lg-12">
                        <div class="card-body text-start">
                            <h6 class="card-title">Judul Jurnal : Peningkatan Profesionalisme Guru Bahasa Indonesia di Kabupaten Musirawas
                                Sumatera Selatan Melalui Pelatihan Menulis Artikel Jurnal Ilmiah</h6>
                            <p>Nama Penulis : Susetyo Susetyo, Rokhmat Basuki, Noermanzah Noermanzah
                                </p>
                            <p>Tahun Terbit : 2020</p>
                            <p>Volume : 2</p>
                            <p>Nomor : 1</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="card mb-3" style="max-width: 540px; width: 100%;">
                <div class="row g-0">
                    <div class="col-lg-12">
                        <div class="card-body text-start">
                            <h6 class="card-title">Judul Jurnal : PENGGUNAAN METODE ANALISIS DAN RANCANGAN BERORIENTASI OBJEK PADA WEB JURNAL ILMIAH TERPADU</h6>
                            <p>Nama Penulis : Nyimas Sopiah</p>
                            <p>Tahun Terbit : 2012</p>
                            <p>Volume : 1</p>
                            <p>No : 4</p>
                        </div>
                    </div>
                </div>
            </div>    
        </div>       
            
    </section>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>

    <script>
        var booksData = [
        {
            title: "Judul Jurnal : Rancang Bangun Website Jurnal Ilmiah Bidang Komputer (Studi Kasus : Program Studi Ilmu Komputer Universitas Mulawarman)",
            author: "Dana Pranata, Hamdani Hamdani, Dyna Marisa Khairina",
            year: 2015,
            volume: 10,
            number: 2
        },
        {
            title: "Judul Jurnal : PERANCANGAN DAN PEMBUATAN APLIKASI MANAJEMEN PUBLIKASI ILMIAH BERBASIS ONLINE PADA JURNAL SISFO",
            author: "Yosua Simaremare, Apol Pribadi, Radityo Prasetianto Wibowo",
            year: 2013,
            volume: 2,
            number: 3
        },
        {
            title: "Judul Jurnal : AKSES DAN PEMANFAATAN PANGKALAN DATA JURNAL ILMIAH",
            author: "Eka Kusmayadi",
            year: 2008,
            volume: 17,
            number: 1
        },
        {
            title: "Judul Jurnal : Peningkatan Profesionalisme Guru Bahasa Indonesia di Kabupaten Musirawas Sumatera Selatan Melalui Pelatihan Menulis Artikel Jurnal Ilmiah",
            author: "Susetyo Susetyo, Rokhmat Basuki, Noermanzah Noermanzah",
            year: 2020,
            volume: 2,
            number: 1
        },
        {
            title: "Judul Jurnal : PENGGUNAAN METODE ANALISIS DAN RANCANGAN BERORIENTASI OBJEK PADA WEB JURNAL ILMIAH TERPADU",
            author: "Nyimas Sopiah",
            year: 2012,
            volume: 1,
            number: 4
        },
        
    ];
    
        window.addEventListener('load', function () {
            var url = new URL(window.location.href);
            var searchParam = url.searchParams.get("query");
    
            if (searchParam) {
                document.getElementById("searchInput").value = decodeURIComponent(searchParam);
                filterBooks(decodeURIComponent(searchParam));
            }
    
            document.getElementById("searchForm").addEventListener("submit", function (event) {
                event.preventDefault();
                var searchValue = document.getElementById("searchInput").value;
                window.location.href = window.location.pathname + (searchValue ? "?query=" + encodeURIComponent(searchValue) : "");
            });
    
            document.getElementById("searchInput").addEventListener("input", function () {
                var searchValue = this.value.toLowerCase();
                filterBooks(searchValue);
            });
    
            function filterBooks(searchValue) {
                var bookCards = document.querySelectorAll("#bookCards .card");
    
                bookCards.forEach(function (card) {
                    var cardTitle = card.querySelector(".card-title").textContent.toLowerCase();
                    var cardAuthor = card.querySelector(".card-body p:nth-child(2)").textContent.toLowerCase();
                    var cardPublisher = card.querySelector(".card-body p:nth-child(3)").textContent.toLowerCase();
    
                    var matchTitle = cardTitle.includes(searchValue);
                    var matchAuthor = cardAuthor.includes(searchValue);
                    var matchPublisher = cardPublisher.includes(searchValue);
    
                    if (matchTitle || matchAuthor || matchPublisher) {
                        card.style.display = "block";
                        // Highlight the matching text within the card
                        highlightMatch(card, matchTitle, matchAuthor, matchPublisher, searchValue);
                    } else {
                        card.style.display = "none";
                    }
                });
            }
    
            function highlightMatch(card, matchTitle, matchAuthor, matchPublisher, searchValue) {
                var cardTitleElem = card.querySelector(".card-title");
                var cardAuthorElem = card.querySelector(".card-body p:nth-child(2)");
                var cardPublisherElem = card.querySelector(".card-body p:nth-child(3)");
    
                // Reset previous highlights
                cardTitleElem.innerHTML = cardTitleElem.textContent;
                cardAuthorElem.innerHTML = cardAuthorElem.textContent;
                cardPublisherElem.innerHTML = cardPublisherElem.textContent;
    
                if (matchTitle) {
                    highlightText(cardTitleElem, searchValue);
                }
                if (matchAuthor) {
                    highlightText(cardAuthorElem, searchValue);
                }
                if (matchPublisher) {
                    highlightText(cardPublisherElem, searchValue);
                }
            }
    
            function highlightText(element, searchValue) {
                var innerHTML = element.innerHTML;
                var index = innerHTML.toLowerCase().indexOf(searchValue);
                if (index !== -1) {
                    var highlightedText = innerHTML.substring(index, index + searchValue.length);
                    var newText = innerHTML.replace(new RegExp(highlightedText, "i"), '<span style="background-color: yellow;">' + highlightedText + '</span>');
                    element.innerHTML = newText;
                }
            }
        });
    </script>
    
  </body>
</html>
